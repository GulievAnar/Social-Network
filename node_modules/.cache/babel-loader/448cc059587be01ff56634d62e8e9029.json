{"ast":null,"code":"import { dialogsReducer } from './reducers/dialogs-reducer';\nimport { postsReducer } from './reducers/posts-reducer';\nlet store = {\n  _state: {\n    postsData: [{\n      id: 1,\n      name: 'Anar',\n      text: 'Hi',\n      likesCount: '0'\n    }, {\n      id: 2,\n      name: 'Anar',\n      text: 'Vova',\n      likesCount: '0'\n    }, {\n      id: 3,\n      name: 'Anar',\n      text: '1337',\n      likesCount: '0'\n    }],\n    dialogsData: [{\n      id: 1,\n      name: 'Anar'\n    }, {\n      id: 2,\n      name: 'Vova'\n    }, {\n      id: 3,\n      name: 'Danya'\n    }],\n    messagesData: [{\n      id: 1,\n      message: 'Hello'\n    }, {\n      id: 2,\n      message: 'How are you ?'\n    }, {\n      id: 3,\n      message: 'My name is Anar'\n    }],\n    newTextPost: ''\n  },\n\n  getState() {\n    return this._state;\n  },\n\n  rerenderEntireTree() {\n    console.log('state changed');\n  },\n\n  subscribe(observer) {\n    this.rerenderEntireTree = observer;\n  },\n\n  dispatch(action) {\n    this._state.messagesData = dialogsReducer(this._state.messagesData, action);\n    this._state.dialogsData = dialogsReducer(this._state.messagesData, action);\n\n    if (action.type === 'ADD-POST') {\n      let newPost = {\n        id: 4,\n        name: 'Anar',\n        text: this._state.newTextPost,\n        likesCount: 0\n      };\n\n      this._state.postsData.push(newPost);\n\n      this.rerenderEntireTree(this._state);\n    } else if (action.type === 'UPDATE-NEW-POST-TEXT') {\n      console.log(this._state);\n      this._state.newTextPost = action.newText;\n      this.rerenderEntireTree(this._state);\n    } else if (action.type === 'ADD-MESSAGE') {\n      let newMessage = {\n        id: 4,\n        message: this._state.newTextPost\n      };\n\n      this._state.messagesData.push(newMessage);\n\n      this.rerenderEntireTree(this._state);\n    } else if (action.type === 'UPDATE-NEW-MESSAGE-ACTION-CREATER') {\n      this._state.newTextPost = action.newText;\n      this.rerenderEntireTree(this._state);\n    }\n  }\n\n};\nexport let addPostActionCreater = () => {\n  return {\n    type: ADD_POST\n  };\n};\nexport let updateNewPostActionCreater = text => {\n  return {\n    type: UPDATE_NEW_POST_TEXT,\n    newText: text\n  };\n};\nexport let updateNewMessageActionCreater = text => {\n  return {\n    type: UPDATE_NEW_MESSAGE_ACTION_CREATER,\n    newText: text\n  };\n};\nexport let addMessageActionCreater = () => {\n  return {\n    type: ADD_MESSAGE\n  };\n};\nwindow.store = store;\nexport default store;","map":{"version":3,"sources":["C:/Users/gulie/solid-snake/src/state.js"],"names":["dialogsReducer","postsReducer","store","_state","postsData","id","name","text","likesCount","dialogsData","messagesData","message","newTextPost","getState","rerenderEntireTree","console","log","subscribe","observer","dispatch","action","type","newPost","push","newText","newMessage","addPostActionCreater","ADD_POST","updateNewPostActionCreater","UPDATE_NEW_POST_TEXT","updateNewMessageActionCreater","UPDATE_NEW_MESSAGE_ACTION_CREATER","addMessageActionCreater","ADD_MESSAGE","window"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,4BAA7B;AACA,SAAQC,YAAR,QAA2B,0BAA3B;AAEA,IAAIC,KAAK,GAAG;AACRC,EAAAA,MAAM,EAAE;AACJC,IAAAA,SAAS,EAAE,CACP;AAAEC,MAAAA,EAAE,EAAE,CAAN;AAASC,MAAAA,IAAI,EAAE,MAAf;AAAuBC,MAAAA,IAAI,EAAE,IAA7B;AAAmCC,MAAAA,UAAU,EAAE;AAA/C,KADO,EAEP;AAAEH,MAAAA,EAAE,EAAE,CAAN;AAASC,MAAAA,IAAI,EAAE,MAAf;AAAuBC,MAAAA,IAAI,EAAE,MAA7B;AAAqCC,MAAAA,UAAU,EAAE;AAAjD,KAFO,EAGP;AAAEH,MAAAA,EAAE,EAAE,CAAN;AAASC,MAAAA,IAAI,EAAE,MAAf;AAAuBC,MAAAA,IAAI,EAAE,MAA7B;AAAqCC,MAAAA,UAAU,EAAE;AAAjD,KAHO,CADP;AAMJC,IAAAA,WAAW,EAAE,CACT;AAAEJ,MAAAA,EAAE,EAAE,CAAN;AAASC,MAAAA,IAAI,EAAE;AAAf,KADS,EAET;AAAED,MAAAA,EAAE,EAAE,CAAN;AAASC,MAAAA,IAAI,EAAE;AAAf,KAFS,EAGT;AAAED,MAAAA,EAAE,EAAE,CAAN;AAASC,MAAAA,IAAI,EAAE;AAAf,KAHS,CANT;AAYJI,IAAAA,YAAY,EAAE,CACV;AAAEL,MAAAA,EAAE,EAAE,CAAN;AAASM,MAAAA,OAAO,EAAE;AAAlB,KADU,EAEV;AAAEN,MAAAA,EAAE,EAAE,CAAN;AAASM,MAAAA,OAAO,EAAE;AAAlB,KAFU,EAGV;AAAEN,MAAAA,EAAE,EAAE,CAAN;AAASM,MAAAA,OAAO,EAAE;AAAlB,KAHU,CAZV;AAiBJC,IAAAA,WAAW,EAAE;AAjBT,GADA;;AAoBRC,EAAAA,QAAQ,GAAG;AACP,WAAO,KAAKV,MAAZ;AACH,GAtBO;;AAwBRW,EAAAA,kBAAkB,GAAG;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH,GA1BO;;AA2BRC,EAAAA,SAAS,CAACC,QAAD,EAAW;AAChB,SAAKJ,kBAAL,GAA0BI,QAA1B;AACH,GA7BO;;AA+BRC,EAAAA,QAAQ,CAACC,MAAD,EAAS;AACd,SAAKjB,MAAL,CAAYO,YAAZ,GAA4BV,cAAc,CAAC,KAAKG,MAAL,CAAYO,YAAb,EAA2BU,MAA3B,CAA1C;AACA,SAAKjB,MAAL,CAAYM,WAAZ,GAA2BT,cAAc,CAAC,KAAKG,MAAL,CAAYO,YAAb,EAA2BU,MAA3B,CAAzC;;AAGC,QAAIA,MAAM,CAACC,IAAP,KAAgB,UAApB,EAAgC;AAC5B,UAAIC,OAAO,GAAG;AACVjB,QAAAA,EAAE,EAAE,CADM;AAEVC,QAAAA,IAAI,EAAE,MAFI;AAGVC,QAAAA,IAAI,EAAE,KAAKJ,MAAL,CAAYS,WAHR;AAIVJ,QAAAA,UAAU,EAAE;AAJF,OAAd;;AAMA,WAAKL,MAAL,CAAYC,SAAZ,CAAsBmB,IAAtB,CAA2BD,OAA3B;;AACA,WAAKR,kBAAL,CAAwB,KAAKX,MAA7B;AACH,KATD,MASO,IAAIiB,MAAM,CAACC,IAAP,KAAgB,sBAApB,EAA4C;AAC/CN,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKb,MAAjB;AACA,WAAKA,MAAL,CAAYS,WAAZ,GAA0BQ,MAAM,CAACI,OAAjC;AACA,WAAKV,kBAAL,CAAwB,KAAKX,MAA7B;AACH,KAJM,MAIA,IAAIiB,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;AACtC,UAAII,UAAU,GAAG;AACbpB,QAAAA,EAAE,EAAE,CADS;AAEbM,QAAAA,OAAO,EAAE,KAAKR,MAAL,CAAYS;AAFR,OAAjB;;AAIA,WAAKT,MAAL,CAAYO,YAAZ,CAAyBa,IAAzB,CAA8BE,UAA9B;;AACA,WAAKX,kBAAL,CAAwB,KAAKX,MAA7B;AACH,KAPM,MAOA,IAAIiB,MAAM,CAACC,IAAP,KAAgB,mCAApB,EAAyD;AAC5D,WAAKlB,MAAL,CAAYS,WAAZ,GAA0BQ,MAAM,CAACI,OAAjC;AACA,WAAKV,kBAAL,CAAwB,KAAKX,MAA7B;AACH;AACJ;;AA5DO,CAAZ;AA+DA,OAAO,IAAIuB,oBAAoB,GAAG,MAAM;AACpC,SAAO;AACHL,IAAAA,IAAI,EAAEM;AADH,GAAP;AAGH,CAJM;AAMP,OAAO,IAAIC,0BAA0B,GAAIrB,IAAD,IAAU;AAC9C,SAAO;AACHc,IAAAA,IAAI,EAAEQ,oBADH;AAEHL,IAAAA,OAAO,EAAEjB;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,IAAIuB,6BAA6B,GAAIvB,IAAD,IAAU;AACjD,SAAO;AACHc,IAAAA,IAAI,EAAEU,iCADH;AAEHP,IAAAA,OAAO,EAAEjB;AAFN,GAAP;AAIH,CALM;AAOP,OAAO,IAAIyB,uBAAuB,GAAG,MAAM;AACvC,SAAO;AACHX,IAAAA,IAAI,EAAEY;AADH,GAAP;AAGH,CAJM;AAMPC,MAAM,CAAChC,KAAP,GAAeA,KAAf;AAEA,eAAeA,KAAf","sourcesContent":["import {dialogsReducer} from './reducers/dialogs-reducer';\r\nimport {postsReducer} from './reducers/posts-reducer'\r\n\r\nlet store = {\r\n    _state: {\r\n        postsData: [\r\n            { id: 1, name: 'Anar', text: 'Hi', likesCount: '0' },\r\n            { id: 2, name: 'Anar', text: 'Vova', likesCount: '0' },\r\n            { id: 3, name: 'Anar', text: '1337', likesCount: '0' },\r\n        ],\r\n        dialogsData: [\r\n            { id: 1, name: 'Anar' },\r\n            { id: 2, name: 'Vova' },\r\n            { id: 3, name: 'Danya' },\r\n        ],\r\n\r\n        messagesData: [\r\n            { id: 1, message: 'Hello' },\r\n            { id: 2, message: 'How are you ?' },\r\n            { id: 3, message: 'My name is Anar' },\r\n        ],\r\n        newTextPost: '',\r\n    },\r\n    getState() {\r\n        return this._state;\r\n    },\r\n\r\n    rerenderEntireTree() {\r\n        console.log('state changed')\r\n    },\r\n    subscribe(observer) {\r\n        this.rerenderEntireTree = observer;\r\n    },\r\n\r\n    dispatch(action) {\r\n       this._state.messagesData =  dialogsReducer(this._state.messagesData, action);\r\n       this._state.dialogsData =  dialogsReducer(this._state.messagesData, action);\r\n\r\n\r\n        if (action.type === 'ADD-POST') {\r\n            let newPost = {\r\n                id: 4,\r\n                name: 'Anar',\r\n                text: this._state.newTextPost,\r\n                likesCount: 0\r\n            }\r\n            this._state.postsData.push(newPost);\r\n            this.rerenderEntireTree(this._state);\r\n        } else if (action.type === 'UPDATE-NEW-POST-TEXT') {\r\n            console.log(this._state);\r\n            this._state.newTextPost = action.newText;\r\n            this.rerenderEntireTree(this._state);\r\n        } else if (action.type === 'ADD-MESSAGE') {\r\n            let newMessage = {\r\n                id: 4,\r\n                message: this._state.newTextPost,\r\n            }\r\n            this._state.messagesData.push(newMessage);\r\n            this.rerenderEntireTree(this._state);\r\n        } else if (action.type === 'UPDATE-NEW-MESSAGE-ACTION-CREATER') {\r\n            this._state.newTextPost = action.newText;\r\n            this.rerenderEntireTree(this._state);\r\n        }\r\n    }\r\n}\r\n\r\nexport let addPostActionCreater = () => {\r\n    return {\r\n        type: ADD_POST\r\n    }\r\n}\r\n\r\nexport let updateNewPostActionCreater = (text) => {\r\n    return {\r\n        type: UPDATE_NEW_POST_TEXT,\r\n        newText: text\r\n    }\r\n}\r\n\r\nexport let updateNewMessageActionCreater = (text) => {\r\n    return {\r\n        type: UPDATE_NEW_MESSAGE_ACTION_CREATER,\r\n        newText: text\r\n    }\r\n}\r\n\r\nexport let addMessageActionCreater = () => {\r\n    return {\r\n        type: ADD_MESSAGE\r\n    }\r\n}\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n"]},"metadata":{},"sourceType":"module"}